OBJECTS = http.o queue.o display.o download.o rtorrent.o

LIBS = -lncurses -lcrypto `pkg-config --libs sigc++-2.0` ../torrent/.libs/libtorrent.so
CFLAGS = -Wall -O3 -g `pkg-config --cflags sigc++-2.0` -I. -I..

all: torrent $(OBJECTS)
	g++ $(CFLAGS) -o rtorrent $(OBJECTS) $(LIBS)

torrent:
	ln -s ../torrent/torrent torrent

%.o: %.cc
	g++ $(CFLAGS) -c $<

clean:
	-rm rtorrent *.o *~
	-rm -r torrent
